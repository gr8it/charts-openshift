# This is to override the chart name.
nameOverride: ""
fullnameOverride: ""

vaultKVmountPlatform: apc-platform
caCertificates:
  caCrt: |-
    -----BEGIN CERTIFICATE-----
    MIIFeDCCA2CgAwIBAgIQOwdgFGGlYrpEM2DY1GNmezANBgkqhkiG9w0BAQsFADBD
    MRIwEAYKCZImiZPyLGQBGRYCc2sxGDAWBgoJkiaJk/IsZAEZFghzb2Nwb2lzdDET
    MBEGA1UEAxMKUm9vdENBLVNwMjAgFw0xNjAyMDIwOTUxNTNaGA8yMDU2MDIwMjEw
    EGk2fSV1RcDLgqiw+F0vK32W8D7ncxNhNHekcuSjxqRxoMW6FU+MJ0ZQEaLhHALd
    eBhV/NO5Fc3j7X0Sosja7rJBpvoN07b7W4v8Nxmi685nw/Qh3nVWVU3MNTeBdB1C
    IdiAPCAYoq4mhRNe
    -----END CERTIFICATE-----


groupSync:
  - name: alfa
    schedule: "5 * * * *"
    providers:
    - name: prov-1
      ldap:
        insecure: false
        prune: true
        rfc2307:
          groupMembershipAttributes:
          - member
          groupNameAttributes:
          - cn
          groupUIDAttribute: sAMAccountName
          groupsQuery:
            baseDN: OU=APC,OU=Applications Groups,OU=Groups,OU=Central,DC=example,DC=com
            derefAliases: never
            filter: (&(objectClass=group)(cn=APC-H*))
            pageSize: 1000
            scope: sub
          tolerateMemberNotFoundErrors: true
          tolerateMemberOutOfScopeErrors: false
          userNameAttributes:
          - sAMAccountName
          userUIDAttribute: distinguishedName
          usersQuery:
            baseDN: dc=example,dc=com
            derefAliases: never
            filter: (objectClass=person)
            pageSize: 1000
            scope: sub
        url: ldaps://example.com:636
    - name: prov-2
      ldap:
        insecure: false
        prune: true
        rfc2307:
          groupMembershipAttributes:
          - member
          groupNameAttributes:
          - cn
          groupUIDAttribute: sAMAccountName
          groupsQuery:
            baseDN: OU=APC,OU=Applications Groups,OU=Groups,OU=Central,DC=example,DC=com
            derefAliases: never
            filter: (&(objectClass=group)(cn=APC-H*))
            pageSize: 1000
            scope: sub
          tolerateMemberNotFoundErrors: true
          tolerateMemberOutOfScopeErrors: false
          userNameAttributes:
          - sAMAccountName
          userUIDAttribute: distinguishedName
          usersQuery:
            baseDN: dc=example,dc=com
            derefAliases: never
            filter: (objectClass=person)
            pageSize: 1000
            scope: sub
        url: ldaps://example.com:636
  - name: beta
    schedule: "10 * * *"
    credentialsSecret:
      username: ad-ldap-bind-secret
      password: group-sync-operator
    providers:
    - name: prov-a
      ldap:
        insecure: false
        prune: true
        rfc2307:
          groupMembershipAttributes:
          - member
          groupNameAttributes:
          - cn
          groupUIDAttribute: sAMAccountName
          groupsQuery:
            baseDN: OU=APC,OU=Applications Groups,OU=Groups,OU=Central,DC=example,DC=com
            derefAliases: never
            filter: (&(objectClass=group)(cn=APC-H*))
            pageSize: 1000
            scope: sub
          tolerateMemberNotFoundErrors: true
          tolerateMemberOutOfScopeErrors: false
          userNameAttributes:
          - sAMAccountName
          userUIDAttribute: distinguishedName
          usersQuery:
            baseDN: dc=example,dc=com
            derefAliases: never
            filter: (objectClass=person)
            pageSize: 1000
            scope: sub
        url: ldaps://example.com:636