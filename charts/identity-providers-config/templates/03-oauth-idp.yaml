{{- if .Values.identityProviders }}
apiVersion: config.openshift.io/v1
kind: OAuth
metadata:
  name: cluster
  annotations:
    argocd.argoproj.io/sync-options: ServerSideApply=true
spec:
  identityProviders:
  {{- range $i, $value := .Values.identityProviders }}
    {{ $value | toYaml | nindent 4 }}
    keys $value
  {{- end }}
{{- end }}