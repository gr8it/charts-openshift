mongodb-kubernetes:
  # Set this to true if your cluster is managing SecurityContext for you.
  # If running OpenShift (Cloud, Minishift, etc.), set this to true.
  managedSecurityContext: true
  operator:
    # Name that will be assigned to most internal Kubernetes objects like Deployment, ServiceAccount, Role etc.
    name: mongodb-kubernetes-operator

    # Name of the operator image
    operator_image_name: mongodb-kubernetes

    # Name of the deployment of the operator pod
    deployment_name: mongodb-kubernetes-operator

    # Version of mongodb-kubernetes-operator
    version: 1.4.0

    # Namespaces that the Kubernetes Operator watches for MongoDB resource changes. 
    watchNamespace: "*"

    # Resources allocated to Operator Pod
    resources:
      limits:
        cpu: 1100m
        memory: 1Gi
      requests:
        cpu: 500m
        memory: 200Mi
    
    replicas: 1

    telemetry:
      enabled: false

  ## Database
  database:
    name: mongodb-kubernetes-database
    version: 1.4.0

  initDatabase:
    name: mongodb-kubernetes-init-database
    version: 1.4.0

  ## Ops Manager
  opsManager:
    name: mongodb-enterprise-ops-manager-ubi

  initOpsManager:
    name: mongodb-kubernetes-init-ops-manager
    version: 1.4.0

  ## Application Database
  initAppDb:
    name: mongodb-kubernetes-init-appdb
    version: 1.4.0

  agent:
    name: mongodb-agent
    version: 108.0.12.8846-1

  # This is only used by the MongoDBCommunity resource reconciler - START
  versionUpgradeHook:
    name: mongodb-kubernetes-operator-version-upgrade-post-start-hook
    version: 1.0.9
  readinessProbe:
    name: mongodb-kubernetes-readinessprobe
    version: 1.0.22
  # This is only used by the MongoDBCommunity resource reconciler - END

  ## Registry
  registry:
    imagePullSecrets:
    pullPolicy: Always
    # Specify if images are pulled from private registry
    operator: quay.io/mongodb
    database: quay.io/mongodb
    initDatabase: quay.io/mongodb
    initOpsManager: quay.io/mongodb
    opsManager: quay.io/mongodb
    initAppDb: quay.io/mongodb
    agent: quay.io/mongodb
  
  # This is only used by the MongoDBCommunity resource reconciler - START
  # versionUpgradeHook: quay.io/mongodb
  # readinessProbe: quay.io/mongodb
  # This is only used by the MongoDBCommunity resource reconciler - END

  # Resources only for the MongoDBCommunity resource reconciler
  community:
    mongodb:
      repo: quay.io/mongodb
      # change this if you want to use a different mongoDB image
      name: mongodb-community-server
      imageType: ubi8
    agent:
      name: mongodb-agent
      version: 108.0.2.8729-1
    registry:
      agent: quay.io/mongodb
    resource:
      name: mongodb-replica-set
      version: 4.4.0
      members: 3
      tls:
        # when tls.enabled == true and tls.useCertManager == true then Cert Manager's Issuer and Certificate resources will be created
        enabled: false
        # Installs Cert-Manager in this cluster.
        useX509: false
        sampleX509User: false
        useCertManager: true
        certificateKeySecretRef: tls-certificate
        caCertificateSecretRef: tls-ca-key-pair
        certManager:
          certDuration: 8760h  # 365 days
          renewCertBefore: 720h  # 30 days
